# Mini-Agent Visual Architecture Guide

**Quick Visual Reference for Understanding the System**

---

## The Big Picture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                       â”‚
â”‚                         YOUR MINI-AGENT SYSTEM                        â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    ENTRY POINTS                              â”‚    â”‚
â”‚  â”‚  (How you interact with Mini-Agent)                          â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â”‚   1. mini-agent                2. mini-agent-acp            â”‚    â”‚
â”‚  â”‚      (CLI Direct)                  (ACP Server)             â”‚    â”‚
â”‚  â”‚      Terminal use                  Zed/MiniMax-M2 Desktop       â”‚    â”‚
â”‚  â”‚      âœ… RECOMMENDED                âœ… Optional               â”‚    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                      â”‚                 â”‚                             â”‚
â”‚                      â–¼                 â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              CORE AGENT RUNTIME                               â”‚   â”‚
â”‚  â”‚  (Same for both entry points)                                 â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â€¢ Agent Loop (mini_agent/agent.py)                          â”‚   â”‚
â”‚  â”‚  â€¢ LLM Client (mini_agent/llm/llm_client.py)                â”‚   â”‚
â”‚  â”‚  â€¢ Tool Management                                           â”‚   â”‚
â”‚  â”‚  â€¢ Message History                                           â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                          â”‚
â”‚                           â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     TOOL LAYERS                               â”‚   â”‚
â”‚  â”‚  (All the capabilities)                                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚ Native Tools   â”‚  â”‚  Z.AI Tools    â”‚  â”‚ Skills         â”‚â”‚   â”‚
â”‚  â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ File ops     â”‚  â”‚ â€¢ Web search   â”‚  â”‚ â€¢ PDF/DOCX     â”‚â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Bash exec    â”‚  â”‚ â€¢ Web reader   â”‚  â”‚ â€¢ Presentationsâ”‚â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Session notesâ”‚  â”‚ âœ… WORKING     â”‚  â”‚ â€¢ Art/Design   â”‚â”‚   â”‚
â”‚  â”‚  â”‚ âœ… WORKING     â”‚  â”‚                â”‚  â”‚ âœ… WORKING     â”‚â”‚   â”‚
â”‚  â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ MCP Servers (External)                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Memory (knowledge graph)    âœ… Enabled              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Git operations              âœ… Enabled              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Filesystem (restricted)     âš ï¸  Limited to /tmp     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ minimax_search              âŒ Disabled (obsolete)  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                        â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Access: Understanding the Contexts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚                  WHERE ARE YOU RUNNING?                             â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  Context 1: Mini-Agent CLI                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ $ cd C:\Users\Jazeel-Home\Mini-Agent                â”‚           â”‚
â”‚  â”‚ $ mini-agent                                        â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ File Access:                                        â”‚           â”‚
â”‚  â”‚ âœ… C:\Users\Jazeel-Home\Mini-Agent\*                â”‚           â”‚
â”‚  â”‚ âœ… ./workspace/*                                    â”‚           â”‚
â”‚  â”‚ âœ… All files within workspace directory             â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ Tools Used: Native file tools                       â”‚           â”‚
â”‚  â”‚ Restrictions: NONE                                  â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ Status: âœ… RECOMMENDED - Full access               â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                     â”‚
â”‚  Context 2: Mini-Agent ACP (via Zed/MiniMax-M2 Desktop)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Zed Editor â†’ mini-agent-acp server                  â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ File Access:                                        â”‚           â”‚
â”‚  â”‚ âœ… Session workspace (from editor)                  â”‚           â”‚
â”‚  â”‚ âœ… All files within session workspace               â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ Tools Used: Native file tools                       â”‚           â”‚
â”‚  â”‚ Restrictions: Per-session workspace only            â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ Status: âœ… OPTIONAL - For editor integration       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                     â”‚
â”‚  Context 3: MiniMax-M2 Desktop (Direct - NOT Mini-Agent)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ MiniMax-M2 Desktop â†’ MCP filesystem server              â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ File Access:                                        â”‚           â”‚
â”‚  â”‚ âš ï¸  C:\tmp only (configured in mcp.json)            â”‚           â”‚
â”‚  â”‚ âŒ Other directories blocked by MCP server          â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ Tools Used: MCP filesystem tool (external)          â”‚           â”‚
â”‚  â”‚ Restrictions: Configured in mcp.json                â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ Status: âš ï¸  THIS IS WHERE YOU SAW RESTRICTIONS     â”‚           â”‚
â”‚  â”‚                                                     â”‚           â”‚
â”‚  â”‚ NOTE: This is NOT Mini-Agent! It's MiniMax-M2 Desktop'sâ”‚           â”‚
â”‚  â”‚       external MCP filesystem server (different)    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**The Confusion Explained:**
You were using **MiniMax-M2 Desktop** (Context 3), which has its own MCP filesystem server with restrictions. This is **separate** from Mini-Agent's native file tools (Contexts 1 & 2).

---

## Z.AI Web Search: Old vs New

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚               OLD APPROACH (Failed) âŒ                              â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  User Query                                                         â”‚
â”‚      â†“                                                              â”‚
â”‚  Mini-Agent                                                         â”‚
â”‚      â†“                                                              â”‚
â”‚  MCP Client (attempts connection)                                   â”‚
â”‚      â†“                                                              â”‚
â”‚  minimax_search MCP Server (external)                               â”‚
â”‚      â†“                                                              â”‚
â”‚  âŒ Connection Failed!                                              â”‚
â”‚                                                                     â”‚
â”‚  Why it failed:                                                     â”‚
â”‚  â€¢ External dependency (uvx package)                                â”‚
â”‚  â€¢ Multiple API keys needed (Jina, Serper, MiniMax)                â”‚
â”‚  â€¢ Installation issues                                              â”‚
â”‚  â€¢ Unreliable connections                                           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚               NEW APPROACH (Working) âœ…                             â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  User Query                                                         â”‚
â”‚      â†“                                                              â”‚
â”‚  Mini-Agent CLI                                                     â”‚
â”‚      â†“                                                              â”‚
â”‚  ZAIWebSearchTool (mini_agent/tools/zai_tools.py)                  â”‚
â”‚      â†“                                                              â”‚
â”‚  ZAIClient (mini_agent/llm/zai_client.py)                          â”‚
â”‚      â†“                                                              â”‚
â”‚  Z.AI API (https://api.z.ai)                                        â”‚
â”‚      â†“                                                              â”‚
â”‚  GLM Model with Search Prime Engine                                 â”‚
â”‚      â†“                                                              â”‚
â”‚  âœ… Web Search Results + AI Analysis                               â”‚
â”‚                                                                     â”‚
â”‚  Why it works:                                                      â”‚
â”‚  â€¢ Native integration (no external server)                          â”‚
â”‚  â€¢ Single API key (ZAI_API_KEY in .env)                            â”‚
â”‚  â€¢ Built into GLM models                                            â”‚
â”‚  â€¢ Reliable and fast                                                â”‚
â”‚                                                                     â”‚
â”‚  Available Models:                                                  â”‚
â”‚  â€¢ glm-4.6        â†’ Complex reasoning (default)                     â”‚
â”‚  â€¢ glm-4.5        â†’ Agent-focused tasks                             â”‚
â”‚  â€¢ glm-4-air      â†’ Quick responses                                 â”‚
â”‚  â€¢ glm-4.6-plus   â†’ High performance                                â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ACP Integration: What It Really Is

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚         ACP = Agent Client Protocol (Custom Integration)            â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  What it does:                                                      â”‚
â”‚  â€¢ Enables Mini-Agent to work as a server for code editors          â”‚
â”‚  â€¢ Provides structured communication protocol                       â”‚
â”‚  â€¢ Allows multiple simultaneous sessions                            â”‚
â”‚  â€¢ Shows tool execution visually in editors                         â”‚
â”‚                                                                     â”‚
â”‚  What it is NOT:                                                    â”‚
â”‚  â€¢ âŒ Not a limitation on Mini-Agent                                â”‚
â”‚  â€¢ âŒ Not a file access restrictor                                  â”‚
â”‚  â€¢ âŒ Not required for basic usage                                  â”‚
â”‚  â€¢ âŒ Not a third-party dependency (custom code)                    â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                                                         â”‚       â”‚
â”‚  â”‚  Zed Editor                  mini-agent-acp Server     â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚
â”‚  â”‚  â”‚             â”‚              â”‚                  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ User types  â”‚  Initialize  â”‚ Creates session  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ question    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ with workspace   â”‚    â”‚       â”‚
â”‚  â”‚  â”‚             â”‚              â”‚                  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚             â”‚   Prompt     â”‚ Runs agent loop  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Executes tools   â”‚    â”‚       â”‚
â”‚  â”‚  â”‚             â”‚              â”‚                  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚             â”‚SessionUpdate â”‚ Returns results  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ Sees        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ with thinking    â”‚    â”‚       â”‚
â”‚  â”‚  â”‚ results     â”‚              â”‚ and tool calls   â”‚    â”‚       â”‚
â”‚  â”‚  â”‚             â”‚              â”‚                  â”‚    â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚
â”‚  â”‚                                                         â”‚       â”‚
â”‚  â”‚  Visual feedback in editor:                            â”‚       â”‚
â”‚  â”‚  ğŸ”§ Tool: read_file(path="README.md")                  â”‚       â”‚
â”‚  â”‚  âœ… Result: Successfully read 1,234 bytes              â”‚       â”‚
â”‚  â”‚                                                         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                     â”‚
â”‚  Files:                                                             â”‚
â”‚  â€¢ mini_agent/acp/__init__.py   â†’ ACP adapter implementation       â”‚
â”‚  â€¢ mini_agent/acp/server.py     â†’ Entry point script               â”‚
â”‚                                                                     â”‚
â”‚  How to use:                                                        â”‚
â”‚  1. Install: pip install agent-client-protocol                     â”‚
â”‚  2. Find path: where.exe mini-agent-acp                            â”‚
â”‚  3. Add to Zed settings.json                                       â”‚
â”‚  4. Select "mini-agent" in Zed's agent panel                       â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Configuration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚                    HOW CONFIGURATION WORKS                          â”‚
â”‚                                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  Startup Sequence:                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚                                                                     â”‚
â”‚  1. Load Environment Variables                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚     â”‚ .env file (root directory)   â”‚                               â”‚
â”‚     â”‚                              â”‚                               â”‚
â”‚     â”‚ ZAI_API_KEY=your_key_here    â”‚                               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                â†“                                                    â”‚
â”‚  2. Load Main Configuration                                         â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ mini_agent/config/config.yaml        â”‚                       â”‚
â”‚     â”‚                                      â”‚                       â”‚
â”‚     â”‚ api_key: minimax_key                 â”‚                       â”‚
â”‚     â”‚ model: MiniMax-M2                    â”‚                       â”‚
â”‚     â”‚ tools:                               â”‚                       â”‚
â”‚     â”‚   enable_zai_search: true   â† âœ…     â”‚                       â”‚
â”‚     â”‚   enable_skills: true                â”‚                       â”‚
â”‚     â”‚   enable_mcp: true                   â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                â†“                                                    â”‚
â”‚  3. Load MCP Configuration                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ mini_agent/config/mcp.json           â”‚                       â”‚
â”‚     â”‚                                      â”‚                       â”‚
â”‚     â”‚ {                                    â”‚                       â”‚
â”‚     â”‚   "mcpServers": {                    â”‚                       â”‚
â”‚     â”‚     "minimax_search": {              â”‚                       â”‚
â”‚     â”‚       "disabled": true  â† âœ…         â”‚                       â”‚
â”‚     â”‚     },                               â”‚                       â”‚
â”‚     â”‚     "memory": {                      â”‚                       â”‚
â”‚     â”‚       "disabled": false              â”‚                       â”‚
â”‚     â”‚     }                                â”‚                       â”‚
â”‚     â”‚   }                                  â”‚                       â”‚
â”‚     â”‚ }                                    â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                â†“                                                    â”‚
â”‚  4. Load Tools Based on Configuration                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ mini_agent/cli.py                    â”‚                       â”‚
â”‚     â”‚                                      â”‚                       â”‚
â”‚     â”‚ if config.tools.enable_zai_search:   â”‚                       â”‚
â”‚     â”‚     âœ… Load ZAIWebSearchTool         â”‚                       â”‚
â”‚     â”‚     âœ… Load ZAIWebReaderTool         â”‚                       â”‚
â”‚     â”‚                                      â”‚                       â”‚
â”‚     â”‚ if config.tools.enable_skills:       â”‚                       â”‚
â”‚     â”‚     âœ… Load Skills                   â”‚                       â”‚
â”‚     â”‚                                      â”‚                       â”‚
â”‚     â”‚ if config.tools.enable_mcp:          â”‚                       â”‚
â”‚     â”‚     âœ… Load enabled MCP servers      â”‚                       â”‚
â”‚     â”‚     âŒ Skip disabled servers         â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                â†“                                                    â”‚
â”‚  5. Agent Ready with All Tools                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ Available Tools:                     â”‚                       â”‚
â”‚     â”‚ â€¢ read_file                          â”‚                       â”‚
â”‚     â”‚ â€¢ write_file                         â”‚                       â”‚
â”‚     â”‚ â€¢ edit_file                          â”‚                       â”‚
â”‚     â”‚ â€¢ bash                               â”‚                       â”‚
â”‚     â”‚ â€¢ zai_web_search        â† âœ…         â”‚                       â”‚
â”‚     â”‚ â€¢ zai_web_reader        â† âœ…         â”‚                       â”‚
â”‚     â”‚ â€¢ get_skill                          â”‚                       â”‚
â”‚     â”‚ â€¢ [MCP tools from servers]           â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Decision Tree: What Should I Use?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚                 WHICH MODE SHOULD I USE?                            â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ What do you want     â”‚
                   â”‚ to do?               â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                  â”‚                  â”‚
           â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Quick tasks  â”‚   â”‚ Integrated   â”‚   â”‚ Just talking â”‚
    â”‚ Research     â”‚   â”‚ with code    â”‚   â”‚ to MiniMax-M2    â”‚
    â”‚ File work    â”‚   â”‚ editor       â”‚   â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                  â”‚                  â”‚
           â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ USE:         â”‚   â”‚ USE:         â”‚   â”‚ USE:         â”‚
    â”‚              â”‚   â”‚              â”‚   â”‚              â”‚
    â”‚ mini-agent   â”‚   â”‚ mini-agent-  â”‚   â”‚ MiniMax-M2       â”‚
    â”‚ (CLI)        â”‚   â”‚ acp          â”‚   â”‚ Desktop      â”‚
    â”‚              â”‚   â”‚ (Zed)        â”‚   â”‚              â”‚
    â”‚ âœ… FULL      â”‚   â”‚ âœ… FULL      â”‚   â”‚ âš ï¸ LIMITED   â”‚
    â”‚ ACCESS       â”‚   â”‚ ACCESS       â”‚   â”‚ ACCESS       â”‚
    â”‚              â”‚   â”‚              â”‚   â”‚              â”‚
    â”‚ â€¢ No limits  â”‚   â”‚ â€¢ Editor     â”‚   â”‚ â€¢ /tmp only  â”‚
    â”‚ â€¢ All tools  â”‚   â”‚   context    â”‚   â”‚ â€¢ No Mini-   â”‚
    â”‚ â€¢ Fast       â”‚   â”‚ â€¢ Visual     â”‚   â”‚   Agent      â”‚
    â”‚              â”‚   â”‚   feedback   â”‚   â”‚   tools      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Recommendation:** Use `mini-agent` CLI for best experience!

---

## Summary Visual

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                   â•‘
â•‘                    YOUR SYSTEM STATUS                             â•‘
â•‘                                                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                   â•‘
â•‘  Component              Status          Location                 â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘
â•‘                                                                   â•‘
â•‘  Z.AI Web Search        âœ… Working      mini_agent/llm/          â•‘
â•‘                                         zai_client.py            â•‘
â•‘                                                                   â•‘
â•‘  Z.AI Tools             âœ… Working      mini_agent/tools/        â•‘
â•‘                                         zai_tools.py             â•‘
â•‘                                                                   â•‘
â•‘  ACP Server             âœ… Available    mini_agent/acp/          â•‘
â•‘                                                                   â•‘
â•‘  Native File Tools      âœ… Working      mini_agent/tools/        â•‘
â•‘                         (No limits)     file_tools.py            â•‘
â•‘                                                                   â•‘
â•‘  Configuration          âœ… Correct      mini_agent/config/       â•‘
â•‘                                         config.yaml              â•‘
â•‘                                                                   â•‘
â•‘  MCP minimax_search     âœ… Disabled     mini_agent/config/       â•‘
â•‘                         (As intended)   mcp.json                 â•‘
â•‘                                                                   â•‘
â•‘  Unicode Display        âœ… Fixed        mini_agent/utils/        â•‘
â•‘                                         terminal_utils.py        â•‘
â•‘                                                                   â•‘
â•‘  Documentation          âœ… Complete     documents/               â•‘
â•‘                         (60KB total)                             â•‘
â•‘                                                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                   â•‘
â•‘  READY TO USE! Run: mini-agent                                    â•‘
â•‘                                                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**Read the documentation in `documents/` for complete details!**

Start with: `documents/QUICK_START_GUIDE.md`
