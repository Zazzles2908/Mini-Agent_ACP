{
  "name": "mini-agent-vscode-enhanced",
  "displayName": "Mini-Agent VS Code Integration (Enhanced ACP)",
  "description": "Enhanced VS Code integration for Mini-Agent AI assistant with full ACP protocol support",
  "version": "1.0.0",
  "publisher": "MiniMax",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": ["Machine Learning", "Other", "Extension Packs"],
  "keywords": [
    "ai",
    "assistant",
    "coding",
    "agent",
    "acp",
    "protocol",
    "websocket",
    "real-time"
  ],
  "activationEvents": [
    "onCommand:miniAgent.activate",
    "onLanguage:typescript",
    "onLanguage:javascript", 
    "onLanguage:python",
    "onLanguage:markdown",
    "onFileSystem:file",
    "workspaceContains:**/*.py",
    "workspaceContains:**/*.ts",
    "workspaceContains:**/*.js"
  ],
  "main": "./enhanced_extension.js",
  "contributes": {
    "commands": [
      {
        "command": "miniAgent.activate",
        "title": "Mini-Agent: Activate Assistant",
        "category": "Mini-Agent",
        "icon": "$(robot)"
      },
      {
        "command": "miniAgent.ask",
        "title": "Mini-Agent: Ask Question",
        "category": "Mini-Agent",
        "icon": "$(comment)"
      },
      {
        "command": "miniAgent.explain",
        "title": "Mini-Agent: Explain Code",
        "category": "Mini-Agent",
        "icon": "$(info)"
      },
      {
        "command": "miniAgent.generate",
        "title": "Mini-Agent: Generate Code", 
        "category": "Mini-Agent",
        "icon": "$(add)"
      },
      {
        "command": "miniAgent.refactor",
        "title": "Mini-Agent: Refactor Selection",
        "category": "Mini-Agent",
        "icon": "$(refresh)"
      },
      {
        "command": "miniAgent.test",
        "title": "Mini-Agent: Generate Tests",
        "category": "Mini-Agent",
        "icon": "$(beaker)"
      },
      {
        "command": "miniAgent.reset",
        "title": "Mini-Agent: Reset Session",
        "category": "Mini-Agent",
        "icon": "$(sync)"
      }
    ],
    "keybindings": [
      {
        "command": "miniAgent.ask",
        "key": "ctrl+shift+a",
        "mac": "cmd+shift+a",
        "when": "editorTextFocus"
      },
      {
        "command": "miniAgent.explain", 
        "key": "ctrl+shift+e",
        "mac": "cmd+shift+e",
        "when": "editorTextFocus"
      },
      {
        "command": "miniAgent.generate",
        "key": "ctrl+shift+g",
        "mac": "cmd+shift+g",
        "when": "editorTextFocus"
      },
      {
        "command": "miniAgent.refactor",
        "key": "ctrl+shift+r",
        "mac": "cmd+shift+r",
        "when": "editorTextFocus"
      },
      {
        "command": "miniAgent.test",
        "key": "ctrl+shift+t",
        "mac": "cmd+shift+t",
        "when": "editorTextFocus"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "command": "miniAgent.explain",
          "when": "editorHasSelection",
          "group": "miniAgent@1"
        },
        {
          "command": "miniAgent.refactor",
          "when": "editorHasSelection",
          "group": "miniAgent@2"
        },
        {
          "command": "miniAgent.test",
          "when": "editorHasSelection",
          "group": "miniAgent@3"
        }
      ],
      "explorer/context": [
        {
          "command": "miniAgent.ask",
          "group": "miniAgent@1"
        }
      ]
    },
    "views": {
      "explorer": [
        {
          "id": "miniAgentView",
          "name": "Mini-Agent Assistant",
          "when": "workspaceContains:**/*.py"
        }
      ]
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "miniAgent",
          "title": "Mini-Agent",
          "icon": "$(robot)"
        }
      ],
      "panel": [
        {
          "id": "miniAgentPanel",
          "title": "Mini-Agent Assistant",
          "when": "miniAgent:activated"
        }
      ]
    },
    "configuration": {
      "title": "Mini-Agent Settings",
      "properties": {
        "miniAgent.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable Mini-Agent assistant"
        },
        "miniAgent.autoStart": {
          "type": "boolean", 
          "default": true,
          "description": "Automatically start ACP server when extension activates"
        },
        "miniAgent.host": {
          "type": "string",
          "default": "127.0.0.1",
          "description": "ACP server host address"
        },
        "miniAgent.port": {
          "type": "number",
          "default": 8765,
          "description": "ACP server port"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "echo 'Extension ready for installation'",
    "install-extension": "code --install-extension mini-agent-vscode-enhanced-1.0.0.vsix",
    "test": "echo 'Run VS Code extension tests'",
    "package": "echo 'Package extension for distribution'"
  },
  "devDependencies": {
    "@types/vscode": "^1.80.0",
    "webpack": "^5.0.0",
    "webpack-cli": "^5.0.0"
  },
  "dependencies": {
    "ws": "^8.0.0"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/0xSero/Mini-Agent.git"
  },
  "bugs": {
    "url": "https://github.com/0xSero/Mini-Agent/issues"
  },
  "homepage": "https://github.com/0xSero/Mini-Agent",
  "license": "MIT"
}
